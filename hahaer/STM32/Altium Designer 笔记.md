## 芯片名
STM32F103C8

2025/1/24 日 复习PCB设计 凡亿 53讲   
- solder mask 阻焊，防止油墨可以盖上去，一般是比焊盘大一圈，防止油墨把焊盘盖住，以便把焊盘露出来，便于焊接
- Top paste 钢网，刷焊锡膏可以漏过去，刚好盖住焊盘，一般和焊盘的大小一样大
- 可以控制，一键把丝印放置在封装的中心或者周围的某个地方
- 电容的丝印一般是分开的，电阻的丝印则是连起来的，如下图
![[Pasted image 20250126010801.png]]
- 为什么要把器件尽量放在同一面呢？便宜，少焊接流程
- 为了生产成本低，最小线距、线宽 6mil，最小孔径0.3mm，注意是mm不是mil
- 过孔一般不需要把铜露出来，所以需要把阻焊去掉，让油墨把它盖住，即勾选tented；过孔的空洞半径与包裹该孔的焊盘半径一般满足2倍+-2mil的大小关系，即孔为12时，盘为24+-2mil，孔为8时，盘为16+-2mil；
- 一般先走信号线，然后电源线，GND后走，可以通过铺铜走底。
- 20mil线宽走1A的电流
- 灌铜的时候，记得让铜离边缘有一定的距离，以防静电在板材接触边缘的时候干扰电路；
- 利用机械层copy到top层，构成新的选择区域，然后把该选择的区域布置铜；即把机械一层，特殊粘贴（选择性粘贴）到keep out 层（这个操作证明，keep out层原来没有东西？必须粘贴过来才有）
- 在 **Altium Designer** 中，PCB 的层是一个非常重要的组成部分。每一层都承担着特定的功能或设计需求，以下是常见的几种层的详细解释：
![[Pasted image 20250127201115.png]]
![[Pasted image 20250127201512.png]]
1、阻焊层的意思是在整片阻焊的绿油上开窗，目的是允许焊接！

2、默认情况下，没有阻焊层的区域都要上绿油！

3、助焊层用于贴片封装！SMT封装用到了：top layer层，top solder层，top paste层，且top layer和top paste一样大小，topsolder比它们大一圈。

在 **Altium Designer** 中，不同图层（Layers）对应 PCB 设计的物理和制造要求。以下是各层的详细定义和作用：

---

### **1. 机械层（Mechanical Layer）**
- **作用**：
  - 定义 PCB 的 **物理外形、尺寸、安装孔、固定孔、标注信息**（如板厚、边缘倒角）等机械结构。
  - 可用于标注 **装配说明**（如元件位置、方向）或 **特殊加工要求**（如开槽、切口）。
- **定义**：
  - 机械层是设计者与 PCB 制造商沟通物理结构的核心层，通常 **不直接参与电气设计**，但决定 PCB 的最终形状和机械特性。

---

### **2. 禁止布线层（Keep-Out Layer）**
- **作用**：
  - 定义 PCB 上 **禁止布线、禁止放置元件或铜箔的区域**，例如板边、散热区域、敏感信号区。
  - 设计规则检查（DRC）会依据此层约束布局布线。
- **定义**：
  - **关键层**，用于确保设计符合物理和电气安全要求，如避免元件靠近板边或高压区。

---

### **3. 焊膏层（Paste Layer）**
- **作用**：
  - 定义 **表面贴装元件（SMD）的焊膏涂覆区域**，用于制作钢网（Stencil），在焊接时精准涂覆锡膏。
  - 通常分为 **Top Paste（顶层焊膏）** 和 **Bottom Paste（底层焊膏）**。
- **定义**：
  - 与 SMD 焊盘一一对应，仅用于 SMT 工艺，对回流焊过程至关重要。

---

### **4. 钻孔导向层（Drill Guide Layer）**
- **作用**：
  - 提供 **钻孔的视觉参考**，例如钻孔符号、位置标记、孔径标注。
  - 辅助设计者或制造商快速定位钻孔，但 **不直接用于生成钻孔文件**。
- **定义**：
  - 主要用于设计阶段的标注，属于辅助性说明层。

---

### **5. 钻孔绘图层（Drill Drawing Layer）**
- **作用**：
  - 生成 **钻孔图**，包含所有钻孔（通孔、盲孔、埋孔）的 **精确位置、孔径、类型** 信息。
  - 此层信息会直接输出给 PCB 制造商，用于钻孔机的数控编程。
- **定义**：
  - **制造必需层**，直接决定 PCB 钻孔的精度和正确性。

---

### **总结与关键区别**
| **层名称**        | **核心用途**       | **是否影响制造** | **常见误区**               |
| -------------- | -------------- | ---------- | ---------------------- |
| 机械层            | 定义物理结构和标注      | 是（外形加工）    | 与 Keep-Out 层混淆，误用于电气限制 |
| Keep-Out层      | 限制布局布线区域       | 是（DRC约束）   | 未正确划定区域导致元件/布线越界       |
| Paste层         | 生成钢网模板（SMT焊接）  | 是（SMT工艺）   | 忽略底层焊膏层导致双面贴片问题        |
| Drill Guide层   | 钻孔标注（辅助设计）     | 否          | 误以为替代 Drill Drawing 层  |
| Drill Drawing层 | 生成钻孔图（直接驱动钻孔机） | 是（必需层）     | 未更新孔径信息导致钻孔错误          |

---

### **实际应用建议**
1. **机械层**：优先使用 **Mechanical 1** 定义板框，其他机械层可标注装配信息。
2. **Keep-Out层**：务必与板框（机械层）保持一致，避免 DRC 报错。
3. **钻孔层**：最终输出时需生成 **Drill Drawing 文件**（.drl），而非依赖 Drill Guide。
4. **焊膏层**：双面板需同时检查 **Top Paste** 和 **Bottom Paste**，确保钢网覆盖所有 SMD 焊盘。

正确使用这些层能显著提高 PCB 设计的可制造性和可靠性！

- ### **Drill Guide 层 vs. Drill Drawing 层**
在 **Altium Designer** 中，**Drill Guide 层** 和 **Drill Drawing 层** 虽然都与 PCB 钻孔相关，但功能和应用场景有显著区别。以下是两者的对比分析：

---

### **1. Drill Guide 层（钻孔导向层）**
- **核心作用**：
  - **设计阶段的视觉参考**：用于标注钻孔的符号、位置标记和孔径说明，帮助设计者快速定位和检查钻孔布局。
  - **辅助性说明**：例如在 PCB 上标注“此处为 M3 螺丝孔”或“禁止布线区域”。
- **输出与制造**：
  - **不参与制造文件生成**：Drill Guide 层的信息仅用于设计参考，不会输出到 Gerber 文件或钻孔文件（如 .drl）。
- **适用场景**：
  - 设计过程中检查钻孔位置是否合理。
  - 团队协作时，向其他成员标注钻孔的意图。

---

### **2. Drill Drawing 层（钻孔绘图层）**
- **核心作用**：
  - **生成正式钻孔图**：包含所有钻孔的精确数据（坐标、孔径、类型），直接用于驱动 PCB 制造中的数控钻孔机。
  - **制造必需文件**：此层信息会导出为 **Gerber 文件** 或 **Excellon 格式文件**（.drl），是 PCB 生产的核心依据。
- **输出与制造**：
  - **直接影响制造结果**：若此层数据错误（如孔径标注不符），会导致 PCB 钻孔错误，引发短路或元件无法安装。
- **适用场景**：
  - 提交给 PCB 制造商的钻孔文件。
  - 最终验证钻孔位置与设计一致性。

---

### **关键区别总结**
| **对比项**   | **Drill Guide 层** | **Drill Drawing 层** |
| --------- | ----------------- | ------------------- |
| **用途**    | 设计标注、视觉参考         | 生成制造钻孔图             |
| **输出必要性** | 非必需（仅设计参考）        | 必需（制造核心文件）          |
| **内容**    | 符号、文字标注           | 精确坐标、孔径、类型          |
| **影响对象**  | 设计者               | 制造商、钻孔机             |
| **文件格式**  | 不单独输出             | Gerber / .drl 文件    |

---

### **实际应用中的常见问题**
1. **混淆两者导致制造错误**  
   - 错误做法：仅依赖 Drill Guide 层标注，未正确生成 Drill Drawing 层文件。  
   - 后果：制造商无法获取钻孔数据，PCB 无法生产。

2. **忽略 Drill Drawing 层的更新**  
   - 错误做法：修改钻孔后未同步更新 Drill Drawing 层。  
   - 后果：制造文件与设计不一致，导致钻孔错位。

3. **过度依赖 Drill Guide 层**  
   - 错误做法：在设计阶段仅检查 Drill Guide 层，未验证 Drill Drawing 层数据。  
   - 后果：视觉标注正确，但实际钻孔数据错误（如孔径单位混淆）。



---

### **总结**
- **Drill Guide 层** = 设计者的“草稿纸”，用于标注意图。  
- **Drill Drawing 层** = 制造商的“施工图”，决定钻孔精度。  
- **核心原则**：设计标注（Drill Guide）服务于人，制造数据（Drill Drawing）服务于机器。两者协同工作，缺一不可。

---

### **Keep-out 层是否可以没有？**

**Keep-out 层** 不是强制必须的，它的使用取决于设计需求，具体情况如下：

1. **当设计较简单时**：
    
    - 如果你的设计中，元件和走线的布局相对简单，且没有特殊的区域需要避免放置元件、走线等，那么 **Keep-out 层** 可以省略。
    - 对于小型或低复杂度的电路，通常不需要专门的 Keep-out 层来避免布局冲突。
2. **当设计复杂时**：
    
    - 在复杂的设计中，尤其是对于 **高频电路**、**大电流电路** 或 **精密电路**，**Keep-out 层** 是非常有用的，它可以确保在特定区域内不放置元件或走线，避免信号干扰、热管理问题或制造工艺上的冲突。
    - 如果有 **特殊的元件间距要求** 或者 **复杂的布线要求**，使用 **Keep-out 层** 来规范布线和器件布局就显得非常重要。

### **总结**：

- **Keep-out 层** 是可选的，只有在你有明确的空间和布局约束时，才需要使用。对于简单设计，它可以不使用。
- 在高频、复杂、或有严格布线要求的设计中，**Keep-out 层** 是非常有帮助的。

总体来说，**Keep-out 层** 和 **Drill 层** 都是用来确保设计正确性、避免制造冲突的工具，是否需要它们取决于你的具体设计需求和复杂度。

每一层在 PCB 设计中扮演着不同的角色，合理地利用这些层不仅能确保设计的功能和可靠性，还能帮助制造商顺利生产出符合要求的电路板。
- 可以把top层的灌铜，特殊粘贴到底层，然后连接到GND网络，重新灌铜（这里表示，top层和bottom层的灌铜其实都是连接到GND的）
- 过孔上其实是可以有丝印的，因为过孔上一般都盖油，先打过孔，然后盖油，所以丝印是可以印上去的
- 机械层有什么作用？为什么分机械1,15,13层呢？
- 生活中遇到什么东西含铅？ 油漆，铅焊接的材料
- 先定规则，再布线；先拆解模块，再布局；
-固定孔：内径3.6mm，外径5.5mm
2025 1/27 01:18   7744次 zhihu 7746次